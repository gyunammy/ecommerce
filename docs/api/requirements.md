# 이커머스 시스템 요구사항

## 개요

본 문서는 이커머스 시스템의 핵심 기능에 대한 요구사항을 정의합니다.

### 시스템 구성
1. 상품 관리 - 상품 정보 조회, 재고 관리, 통계 분석(최근 3일, Top5)
2. 주문/결제 시스템 - 장바구니, 재고 확인, 결제 처리
3. 쿠폰 시스템 - 쿠폰 발급, 검증, 사용 관리
4. 데이터 연동 - 외부 시스템과의 데이터 동기화


## 1. 상품 관리

### 1.1 상품 정보 조회
- 상품의 기본 정보(가격, 재고 등)를 조회할 수 있어야 함
- 개별 상품 조회 및 목록 조회 기능 제공

### 1.2 재고 관리
- 실시간으로 상품의 재고 수량을 확인할 수 있어야 함
- 재고 부족 시 적절한 알림 제공

### 1.3 인기 상품 통계
- 최근 3일간의 주문 데이터를 기반으로 인기 상품 집계
- Top 5 인기 상품 순위 제공
- 통계 데이터는 주문량 기준으로 산정

---

## 2. 주문/결제 시스템

### 2.1 장바구니 기능
- 사용자별 장바구니에 상품 추가/삭제/수정 가능
- 장바구니 내 상품 목록 조회
- 장바구니 상품의 총 금액 계산

### 2.2 재고 확인 및 차감
- 주문 시 실시간으로 재고 확인
- 재고가 충분한 경우에만 주문 진행
- 주문 확정 시 재고 자동 차감
- 재고 부족 시 주문 실패 처리

### 2.3 잔액 기반 결제
- 사용자의 잔액(포인트/계좌)을 확인하여 결제 진행
- 잔액 부족 시 결제 실패 처리
- 결제 성공 시 잔액 자동 차감

### 2.4 쿠폰 할인 적용
- 주문 시 보유한 쿠폰을 선택하여 할인 적용
- 쿠폰 유효성 검증 후 할인 금액 계산
- 최종 결제 금액에 할인 반영

---

## 3. 쿠폰 시스템

### 3.1 선착순 발급
- 한정된 수량의 쿠폰을 선착순으로 발급
- 발급 가능 수량 실시간 관리
- 수량 소진 시 발급 중단

### 3.2 쿠폰 유효성 검증
- 쿠폰 사용 전 유효쿠폰인지 확인
- 이미 사용된 쿠폰인지 검증
- 쿠폰 사용 조건(최소 주문 금액 등) 확인

### 3.3 사용 이력 관리
- 쿠폰 발급 이력 기록
- 쿠폰 사용 이력 기록
- 사용자별 쿠폰 보유 현황 조회
